{
  "hash": "9e71a9268c32471aff0ba5182e0b9cc6",
  "result": {
    "markdown": "---\ntitle: \"Summarizing Numerical Associations\"\nformat:\n  revealjs:\n    author: \"STAT 20: Introduction to Probability and Statistics\"\n    height: 900\n    width: 1600\n    theme: ../../assets/slides.scss\n    multiplex: false\n    transition: fade\n    slide-number: c\n    incremental: false\n    center: false\n    menu: false\n    highlight-style: github\n    progress: false\n    code-overflow: wrap\n    title-slide-attributes:\n      data-background-image: ../../assets/stat20-hex-bg.png\n      data-background-size: contain\n---\n\n\n# Concept Questions\n\n## Estimate the correlation\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_0e54d4bd\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">01</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n:::{.poll}\nWhat is the (Pearson) correlation coefficient between these two variables.\n:::\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-2-1.png){fig-align='center' width=480}\n:::\n:::\n\n\n:::notes\nThis plot has a strong negative linear association, so the correlation coefficient will be around -.8 or -.9.\n\nThe goal of this exercise is threefold:\n- Start calibrating the ability to associate the correlation with the structure in a scatter plot.\n- Make it clear that this is still just an informal eye-balling procedure (therefore multiple answers can be reasonable, but some are un-reasonable).\n- Set some of them up for a challenge on the next one; some will conflate correlation with association.\n:::\n\n\n## \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-3-1.png){fig-align='center' width=768}\n:::\n:::\n\n\n:::{.poll}\nWhich *four* plots exhibit the strongest association?\n:::\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_147a7160\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">01</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n\n:::{.notes}\nStudent will likely identify A, B, E, and F. F only appears to be highly associated because of the scaling of the y-axis. This is a good opportunity to review definition of association. The following slides demonstrate the effects of that scaling.\n:::\n\n## Correlation and Scale {auto-animate=true}\n\n\n::: {.cell}\n\n:::\n\n\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f\n```\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n        x            y\n1   -8.00 -1.307007369\n2   -7.95 -0.466886973\n3   -7.90 -1.317638373\n4   -7.85  1.008059015\n5   -7.80  1.153714017\n6   -7.75  0.136000314\n7   -7.70  1.081268517\n8   -7.65  0.027234440\n9   -7.60 -0.755489564\n10  -7.55  0.643581028\n11  -7.50 -2.221816425\n12  -7.45 -0.352711462\n13  -7.40  0.788325702\n14  -7.35  0.348209977\n15  -7.30  0.888132692\n16  -7.25  1.494640228\n17  -7.20  0.539665177\n18  -7.15  1.534245783\n19  -7.10 -0.636288267\n20  -7.05  1.400750746\n21  -7.00  0.857266821\n22  -6.95  0.689240640\n23  -6.90 -0.578689332\n24  -6.85 -0.247484190\n25  -6.80 -1.616711187\n26  -6.75 -0.211921880\n27  -6.70 -1.389650022\n28  -6.65 -0.667030427\n29  -6.60  0.265923179\n30  -6.55  0.368512913\n31  -6.50  0.159370185\n32  -6.45 -0.803029578\n33  -6.40 -1.181853575\n34  -6.35  0.799141786\n35  -6.30 -0.119741600\n36  -6.25  1.055099362\n37  -6.20  0.260610303\n38  -6.15  1.215058556\n39  -6.10 -2.093776227\n40  -6.05 -0.340475843\n41  -6.00  1.098181964\n42  -5.95 -1.022920292\n43  -5.90  0.997308309\n44  -5.85  0.442282185\n45  -5.80  2.024841893\n46  -5.75 -0.206236931\n47  -5.70 -0.366921396\n48  -5.65 -0.540982671\n49  -5.60  0.326545855\n50  -5.55  1.185875818\n51  -5.50  0.163270582\n52  -5.45 -0.252746010\n53  -5.40 -0.538783647\n54  -5.35  0.239830058\n55  -5.30  0.227238979\n56  -5.25  0.146973095\n57  -5.20  1.206565164\n58  -5.15  0.274237725\n59  -5.10  0.291223416\n60  -5.05 -0.048435420\n61  -5.00 -0.160503335\n62  -4.95  0.982662625\n63  -4.90 -0.009812706\n64  -4.85 -1.236449694\n65  -4.80 -0.220086594\n66  -4.75  0.916450245\n67  -4.70  0.312158589\n68  -4.65 -0.271222289\n69  -4.60 -0.362834150\n70  -4.55  0.690127669\n71  -4.50  0.954579372\n72  -4.45 -1.002334741\n73  -4.40 -0.827510811\n74  -4.35 -0.481050964\n75  -4.30  0.213284850\n76  -4.25  0.694018655\n77  -4.20  0.318705891\n78  -4.15  1.359291786\n79  -4.10  0.299499214\n80  -4.05 -0.136853535\n81  -4.00 -0.907524278\n82  -3.95  0.580039124\n83  -3.90 -0.451761432\n84  -3.85 -0.637651429\n85  -3.80 -0.377287558\n86  -3.75 -0.108975033\n87  -3.70  0.266174878\n88  -3.65  1.950537958\n89  -3.60  2.481797153\n90  -3.55  0.024020307\n91  -3.50 -0.271974465\n92  -3.45 -0.324420253\n93  -3.40  0.914990966\n94  -3.35 -0.177070403\n95  -3.30  1.668125591\n96  -3.25 -0.196626395\n97  -3.20  0.909735944\n98  -3.15  0.379802619\n99  -3.10 -0.717674077\n100 -3.05 -0.137978296\n101 -3.00 -0.032596143\n102 -2.95 -1.151078285\n103 -2.90 -0.035147120\n104 -2.85  1.289653594\n105 -2.80  1.301664628\n106 -2.75 -1.314453018\n107 -2.70  0.279983464\n108 -2.65 -0.134496134\n109 -2.60 -0.993968666\n110 -2.55 -1.125493956\n111 -2.50 -0.585075814\n112 -2.45 -0.360440229\n113 -2.40 -0.128946258\n114 -2.35 -1.763949074\n115 -2.30  0.249921212\n116 -2.25  1.356315758\n117 -2.20 -0.221241869\n118 -2.15 -0.255945298\n119 -2.10  0.764032808\n120 -2.05 -0.429023148\n121 -2.00 -0.506416626\n```\n:::\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    ggplot(aes(x = x,\n               y = y)) +\n    geom_point() +\n    ylim(-9, 9) +\n    theme_bw()\n```\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    ggplot(aes(x = x,\n               y = y)) +\n    geom_point() +\n    ylim(-9, 9) +\n    theme_bw()\n```\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-10-1.png){width=960}\n:::\n:::\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    ggplot(aes(x = x,\n               y = y)) +\n    geom_point() +\n    theme_bw()\n```\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n:::: {.columns}\n\n::: {.column width=\"45%\"}\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    ggplot(aes(x = x,\n               y = y)) +\n    geom_point() +\n    theme_bw()\n```\n:::\n\n:::\n\n::: {.column width=\"55%\"}\n\n::: {.cell}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-13-1.png){width=960}\n:::\n:::\n\n:::\n\n::::\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    summarize(pearson = cor(x, y))\n```\n:::\n\n\n\n## Pearson Correlation and Scale {auto-animate=true}\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf_f %>%\n    summarize(pearson = cor(x, y))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n      pearson\n1 -0.03106456\n```\n:::\n:::\n\n\n\n<!-- ## Non-linear Associations -->\n\n<!-- ```{r} -->\n<!-- countdown::countdown(3, top = 0) -->\n<!-- ``` -->\n\n<!-- ```{r} -->\n<!-- #| fig-align: center -->\n<!-- #| fig-width: 5 -->\n<!-- #| fig-height: 3 -->\n<!-- n_samples <- 100 -->\n<!-- set.seed(1) -->\n<!-- x <- runif(n = n_samples, min = -1, max = 1)  -->\n<!-- y <- x^2 + rnorm(n = n_samples, mean = 0, sd = .1) -->\n\n<!-- data.frame(x = x, y = y) %>% -->\n<!--   ggplot(aes(x = x, y = y)) + -->\n<!--   geom_point() + -->\n<!--   theme_bw() -->\n<!-- ``` -->\n\n\n<!-- :::{.poll} -->\n<!-- #### Group discussion -->\n\n<!-- Come up with at least one example from real life where you might expect to see this kind of U-shaped association. Come up with another example of an inverted U-shape. -->\n<!-- ::: -->\n\n## Describing Associations\n\nWhen considering the structure in a scatter plot, pay attention to:\n\n1. The strength of the association\n   - *How much does the conditional distribution of y change when you move along the x?*\n   \n. . .\n\n2. The shape of the association\n   - *Linear? Quadratic? Cubic or beyond?*\n   \n. . .\n\n3. The direction of the (linear) association\n   - *Positive or negative?*\n\n## \n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-16-1.png){fig-align='center' width=480}\n:::\n:::\n\n\n:::poll\nGuess: Which state has the highest poverty rate? The lowest?\n:::\n\n:::notes\nThis can be asked without poll-everywhere, without group discussion, just asking students to shout out which states they think will have highest and lowest. They often have prior guesses about this.\n\nAs they answer, ask where they're thinking those states points are; how they're using this plot to think about the highest povery rate and the lowest poverty rate. Point out that these two questions donest even take advantage of the scatter plot, which allows you to see the relationship between two variables. Each question just deals with the *marginal* distribution of poverty or graduation rate, which could just as well be two separate histograms, as shown on the next slide.\n:::\n\n##\n\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-17-1.png){fig-align='center' width=960}\n:::\n:::\n\n\n:::notes\nThis is an equally-useful set of plots to answer the previous question.\n\nIf we want to ask a question that requires a scatter plot (and a linear model) to answer, we need to ask a conditional question.\n:::\n\n##\n\n\n::: {.cell}\n::: {.cell-output-display}\n```{=html}\n<div class=\"countdown\" id=\"timer_5e3a0b2c\" data-update-every=\"1\" tabindex=\"0\" style=\"top:0;right:0;\">\n<div class=\"countdown-controls\"><button class=\"countdown-bump-down\">&minus;</button><button class=\"countdown-bump-up\">&plus;</button></div>\n<code class=\"countdown-time\"><span class=\"countdown-digits minutes\">01</span><span class=\"countdown-digits colon\">:</span><span class=\"countdown-digits seconds\">00</span></code>\n</div>\n```\n:::\n:::\n\n::: {.cell layout-align=\"center\"}\n::: {.cell-output-display}\n![](slides_files/figure-revealjs/unnamed-chunk-19-1.png){fig-align='center' width=480}\n:::\n:::\n\n\n. . .\n\n:::poll\nWhich state has the highest graduation rate given its poverty rate?\n:::\n\n:::notes\nThis assesses whether or not students have an informal sense of what a residual is.\n:::\n\n\n## Calculating the residuals {auto-animate=true}\n\n$$ \\hat{e}_i = y_i - \\hat{y}_i $$\n\n. . .\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoverty %>%\n  mutate(y_hat = fitted(m1))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 51 × 4\n   State                Graduates Poverty y_hat\n   <chr>                    <dbl>   <dbl> <dbl>\n 1 Alabama                   79.9    14.6  83.1\n 2 Alaska                    90.6     8.3  88.7\n 3 Arizona                   83.8    13.3  84.3\n 4 Arkansas                  80.9    18    80.0\n 5 California                81.1    12.8  84.7\n 6 Colorado                  88.7     9.4  87.8\n 7 Connecticut               87.5     7.8  89.2\n 8 Delaware                  88.7     8.1  88.9\n 9 District of Columbia      86      16.8  81.1\n10 Florida                   84.7    12.1  85.3\n# … with 41 more rows\n```\n:::\n:::\n\n\n:::notes\nThe use of `fitted()` (and `residuals()`) are nice and clean functions, which is why they're used here, but they're brittle used like this. Each fitted value in the vector that this function returns is associated with the state only through their ordering. If the `poverty` data frame is rearranged before this call to mutate, it will put the y-hats in the wrong rows. There are ways to fix this, but it requires code that's best not to show.\n:::\n\n## Calculating the residuals {auto-animate=true}\n\n$$ \\hat{e}_i = y_i - \\hat{y}_i $$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoverty %>%\n  mutate(y_hat = fitted(m1),\n         res = Graduates - y_hat)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 51 × 5\n   State                Graduates Poverty y_hat    res\n   <chr>                    <dbl>   <dbl> <dbl>  <dbl>\n 1 Alabama                   79.9    14.6  83.1 -3.19 \n 2 Alaska                    90.6     8.3  88.7  1.85 \n 3 Arizona                   83.8    13.3  84.3 -0.460\n 4 Arkansas                  80.9    18    80.0  0.860\n 5 California                81.1    12.8  84.7 -3.61 \n 6 Colorado                  88.7     9.4  87.8  0.938\n 7 Connecticut               87.5     7.8  89.2 -1.70 \n 8 Delaware                  88.7     8.1  88.9 -0.229\n 9 District of Columbia      86      16.8  81.1  4.88 \n10 Florida                   84.7    12.1  85.3 -0.637\n# … with 41 more rows\n```\n:::\n:::\n\n\n## Calculating the residuals {auto-animate=true}\n\n$$ \\hat{e}_i = y_i - \\hat{y}_i $$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoverty %>%\n  mutate(y_hat = fitted(m1),\n         res = Graduates - y_hat) %>%\n  arrange(desc(res))\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 51 × 5\n   State                Graduates Poverty y_hat   res\n   <chr>                    <dbl>   <dbl> <dbl> <dbl>\n 1 Montana                   90.1    13.7  83.9  6.20\n 2 District of Columbia      86      16.8  81.1  4.88\n 3 North Dakota              89.7    11.9  85.5  4.18\n 4 Wyoming                   90.9     9.5  87.7  3.23\n 5 Nebraska                  90.8     9.5  87.7  3.13\n 6 Oklahoma                  85.7    14.7  83.0  2.70\n 7 Washington                89.1    10.8  86.5  2.60\n 8 Idaho                     88.2    11.8  85.6  2.59\n 9 Alaska                    90.6     8.3  88.7  1.85\n10 Hawaii                    88.5    10.6  86.7  1.82\n# … with 41 more rows\n```\n:::\n:::\n\n\n## Calculating the residuals {auto-animate=true}\n\n$$ \\hat{e}_i = y_i - \\hat{y}_i $$\n\n\n::: {.cell}\n\n```{.r .cell-code}\npoverty %>%\n  mutate(y_hat = fitted(m1),\n         res = Graduates - y_hat) %>%\n  arrange(res)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\n# A tibble: 51 × 5\n   State          Graduates Poverty y_hat   res\n   <chr>              <dbl>   <dbl> <dbl> <dbl>\n 1 Rhode Island        81      10.3  87.0 -5.95\n 2 Texas               77.2    15.3  82.5 -5.26\n 3 California          81.1    12.8  84.7 -3.61\n 4 South Carolina      80.8    13.5  84.1 -3.28\n 5 Alabama             79.9    14.6  83.1 -3.19\n 6 Nevada              85.6     8.3  88.7 -3.15\n 7 West Virginia       78.7    16    81.8 -3.14\n 8 North Carolina      81.4    13.1  84.4 -3.04\n 9 New Jersey          86.2     7.8  89.2 -3.00\n10 Tennessee           81      14.2  83.5 -2.45\n# … with 41 more rows\n```\n:::\n:::\n",
    "supporting": [
      "slides_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {
      "include-in-header": [
        "<link href=\"../../site_libs/countdown-0.4.0/countdown.css\" rel=\"stylesheet\" />\n<script src=\"../../site_libs/countdown-0.4.0/countdown.js\"></script>\n"
      ],
      "include-after-body": [
        "\n<script>\n  // htmlwidgets need to know to resize themselves when slides are shown/hidden.\n  // Fire the \"slideenter\" event (handled by htmlwidgets.js) when the current\n  // slide changes (different for each slide format).\n  (function () {\n    // dispatch for htmlwidgets\n    function fireSlideEnter() {\n      const event = window.document.createEvent(\"Event\");\n      event.initEvent(\"slideenter\", true, true);\n      window.document.dispatchEvent(event);\n    }\n\n    function fireSlideChanged(previousSlide, currentSlide) {\n      fireSlideEnter();\n\n      // dispatch for shiny\n      if (window.jQuery) {\n        if (previousSlide) {\n          window.jQuery(previousSlide).trigger(\"hidden\");\n        }\n        if (currentSlide) {\n          window.jQuery(currentSlide).trigger(\"shown\");\n        }\n      }\n    }\n\n    // hookup for slidy\n    if (window.w3c_slidy) {\n      window.w3c_slidy.add_observer(function (slide_num) {\n        // slide_num starts at position 1\n        fireSlideChanged(null, w3c_slidy.slides[slide_num - 1]);\n      });\n    }\n\n  })();\n</script>\n\n"
      ]
    },
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}